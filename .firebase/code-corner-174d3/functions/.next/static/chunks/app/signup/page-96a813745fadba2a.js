(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{987:(e,t,a)=>{Promise.resolve().then(a.bind(a,2417)),Promise.resolve().then(a.t.bind(a,8173,23))},2412:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(5155);function l(e){let{isVisible:t,errorMessage:a,successMessage:l}=e;return t?(0,r.jsx)("div",{className:""!==a?"bg-red-300 px-12 py-6 text-center mb-10":"bg-green-300 px-12 py-6 text-center mb-10",children:""!==a?(0,r.jsx)("div",{className:"text-red-700 text-2xl font-medium",children:a}):(0,r.jsx)("div",{className:"text-green-700 text-2xl font-medium",children:l})}):(0,r.jsx)(r.Fragment,{})}},2544:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(5155);function l(e){let{title:t,onClick:a}=e;return(0,r.jsx)("button",{className:"rounded-lg px-40 py-4 text-white font-medium",style:{backgroundColor:"#172B4D"},onClick:e=>{},children:t})}},2028:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(5155);function l(e){let{placeholder:t,label:a,onChange:l,type:s,value:o}=e;return(0,r.jsxs)("div",{className:"flex flex-col w-full space-y-1",children:[(0,r.jsx)("label",{id:a,className:"text-slate-800 text-xl font-medium",htmlFor:a,children:a}),(0,r.jsx)("input",{id:a,type:s,value:o,required:!0,onChange:l,placeholder:t,className:"flex-1 rounded-md px-6 py-2 border-none text-slate-800 border focus:border-2 focus:outline-gray-400"})]})}},187:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(5155);function l(){return(0,r.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,r.jsx)("div",{className:"container flex mx-auto h-6 w-6 items-center delay-1000 duration-1000 ease-in-out p-2 text-center justify-center animate-spin",style:{background:"#068FBB"}}),(0,r.jsx)("div",{className:"container flex mx-auto h-6 w-6 items-center delay-1000 duration-1000 ease-in-out p-2 text-center justify-center animate-spin",style:{background:"#103851"}}),(0,r.jsx)("div",{className:"container flex mx-auto h-6 w-6 items-center delay-1000 duration-1000 ease-in-out p-2 text-center justify-center animate-spin",style:{background:"#068FBB"}})]})}},2417:(e,t,a)=>{"use strict";a.d(t,{default:()=>j});var r=a(5155),l=a(2412),s=a(2544),o=a(2028),i=a(8173),n=a.n(i);function c(e){let{title:t,href:a}=e;return(0,r.jsx)(n(),{href:a,children:(0,r.jsx)("button",{className:"font-bold text-xl border-none hover:underline hover:text-orange-600",style:{color:"#172B4D"},children:t})})}function u(e){let{buttonTitle:t,href:a,label:l}=e;return(0,r.jsxs)("div",{className:"flex flex-row justify-center space-x-2 items-center",children:[(0,r.jsx)("div",{className:"text-xl",style:{color:"#172B4D"},children:l}),(0,r.jsx)(c,{title:t,href:a})]})}var d=a(187),m=a(1540),x=a(4172),h=a(6046),g=a(2115),f=a(6011),p=a(5805),y=a(5565);function b(e){let{getImageUrl:t}=e,a=(0,g.useRef)(null),[l,s]=(0,g.useState)(""),[o,i]=(0,g.useState)(""),n=async e=>{let a=e.target;if(a.files&&a.files[0]){let e=a.files[0];try{let a=await (0,p.A)(e,{maxSizeMB:.1,useWebWorker:!0}),r=new FileReader;r.onload=()=>{let e=r.result;s(e)},r.readAsDataURL(a);let l=await (0,f.V)(e.name,"users/",a);t(l),i(l)}catch(e){console.log(e.message)}}};return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{ref:a,type:"file",accept:"image/*",readOnly:!0,className:"hidden",id:"input",onChange:n}),(0,r.jsx)("div",{className:"rounded-full bg-slate-900",onClick:()=>{var e;null===(e=a.current)||void 0===e||e.click()},children:(0,r.jsx)(y.default,{className:"block rounded-full shadow-xl mx-auto h-20 w-20 object-cover",src:""===l?"/user.png":l,width:300,height:300,alt:"user image"})})]})}function j(){let e=(0,h.useRouter)(),[t,a]=(0,g.useState)(0),[i,n]=(0,g.useState)(""),[c,f]=(0,g.useState)(!1),[p,y]=(0,g.useState)({fullName:"",email:"",bio:"",password:"",imageUrl:"",jobTitle:""}),j=async()=>{a(1);try{let t=await (0,m.Hh)(p.email,p.password);localStorage.setItem("uid",null!=t?t:""),await (0,x.nu)(p,null!=t?t:""),a(2),f(!0),e.push("/signin")}catch(e){n(e.message),a(0),f(!0)}};return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),""!==p.imageUrl&&j()},className:"items-center justify-stretch flex flex-col gap-2 w-96",children:[(0,r.jsx)(b,{getImageUrl:e=>{y({...p,imageUrl:e})}}),(0,r.jsx)(o.A,{label:"Full Name",type:"text",value:p.fullName,placeholder:"Enter your full name",onChange:e=>y({...p,fullName:e.target.value})}),(0,r.jsx)(o.A,{label:"Job title",value:p.jobTitle,type:"job title",placeholder:"Enter your job title",onChange:e=>y({...p,jobTitle:e.target.value})}),(0,r.jsx)(o.A,{label:"Bio",type:"text",value:p.bio,placeholder:"Enter your bio",onChange:e=>y({...p,bio:e.target.value})}),(0,r.jsx)(o.A,{label:"Email",value:p.email,placeholder:"Enter your email address",type:"email",onChange:e=>y({...p,email:e.target.value})}),(0,r.jsx)(o.A,{label:"Password",value:p.password,type:"password",placeholder:"Enter your password",onChange:e=>y({...p,password:e.target.value})}),(0,r.jsx)("div",{className:"pt-5",children:0===t?(0,r.jsx)(s.A,{title:"Register"}):2===t?(0,r.jsx)(u,{buttonTitle:"Go to gmail",label:"Validate you gmail and login",href:"https://mail.google.com/mail/"}):(0,r.jsx)(d.A,{})}),i&&(0,r.jsx)("div",{className:"pt-5 text-red-600",children:i}),(0,r.jsx)(l.A,{errorMessage:i,isVisible:c,successMessage:"The Article Has Been Posted Successfully"})]})}},6046:(e,t,a)=>{"use strict";var r=a(6658);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},1540:(e,t,a)=>{"use strict";a.d(t,{Hh:()=>s,Jv:()=>o,je:()=>i});var r=a(399),l=a(8799);let s=async(e,t)=>{try{return(await (0,r.eJ)(l.j,e,t)).user.uid}catch(e){console.error(e)}},o=async(e,t)=>{try{return(await (0,r.x9)(l.j,e,t)).user.uid}catch(e){return e}},i=async()=>{try{await (0,r.CI)(l.j)}catch(e){console.error(e)}}},4172:(e,t,a)=>{"use strict";a.d(t,{$P:()=>n,nu:()=>s,o6:()=>i,wz:()=>o});var r=a(7058),l=a(8799);let s=async(e,t)=>{(0,r.rJ)(l.db,"users/");let a=(0,r.H9)(l.db,"users",t);try{return await (0,r.BN)(a,{userUid:t,fullName:e.fullName,email:e.email,bio:e.bio,imageUrl:e.imageUrl,jobTitle:e.jobTitle})}catch(e){console.error(e)}},o=async e=>{let t=(0,r.rJ)(l.db,"users/");try{return(await (0,r.x7)((0,r.H9)(t,e))).data()}catch(e){console.error(e)}},i=async e=>{let t=(0,r.rJ)(l.db,"articles/");try{let a=await (0,r.gS)(t,{title:e.title,content:e.content,timeToRead:e.timeToRead,tags:e.tags,likes:[],category:e.category,coverImage:e.coverImage,createdAt:Date.now(),authorName:e.authorName,authorJobTitle:e.authorJobTitle,authorUid:e.authorUid});return await (0,r.mZ)((0,r.H9)(l.db,"articles",a.id),{articleDocId:a.id}),a}catch(e){console.error(e)}},n=async e=>{let t=(0,r.rJ)(l.db,"articles");try{return(await (0,r.GG)(t)).docs.filter(t=>t.data().title.toLowerCase().includes(e.toLowerCase()))}catch(e){console.error(e)}}},8799:(e,t,a)=>{"use strict";a.d(t,{I:()=>u,db:()=>n,j:()=>c});var r=a(9904),l=a(399),s=a(7058),o=a(333);let i=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyC-zy784ZF0jr5dkaI7gKGjue7IQHUlAJg",authDomain:"stories-for-children-59124.firebaseapp.com",projectId:"stories-for-children-59124",storageBucket:"stories-for-children-59124.appspot.com",messagingSenderId:"150688496449",appId:"1:150688496449:web:ae8b0d422137a4923a3fc0",measurementId:"G-7221H6TZX9"}),n=(0,s.aU)(i),c=(0,l.xI)(i),u=(0,o.c7)(i)},6011:(e,t,a)=>{"use strict";a.d(t,{V:()=>s});var r=a(333),l=a(8799);let s=async(e,t,a)=>{let s="",o=(0,r.KR)(l.I,t+e);try{let e=await (0,r.D)(o,a);s=await (0,r.qk)(e.ref),console.log(s)}catch(e){console.error(e)}return console.log("storage"+s),s}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,882,689,137,441,517,358],()=>t(987)),_N_E=e.O()}]);