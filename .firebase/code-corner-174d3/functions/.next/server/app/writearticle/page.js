(()=>{var e={};e.id=700,e.ids=[700],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},78597:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var a=r(70260),s=r(28203),l=r(25155),o=r.n(l),i=r(67292),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let c=["",{children:["writearticle",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2150)),"D:\\bolg\\code_corner_blog\\app\\writearticle\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"D:\\bolg\\code_corner_blog\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\bolg\\code_corner_blog\\app\\writearticle\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/writearticle/page",pathname:"/writearticle",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4876:(e,t,r)=>{Promise.resolve().then(r.bind(r,42088)),Promise.resolve().then(r.bind(r,45041)),Promise.resolve().then(r.t.bind(r,59607,23))},91724:(e,t,r)=>{Promise.resolve().then(r.bind(r,91739)),Promise.resolve().then(r.bind(r,46008)),Promise.resolve().then(r.t.bind(r,28531,23))},93703:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(45512);function s({placeholder:e,label:t,name:r,onChange:s,type:l,value:o}){return(0,a.jsxs)("div",{className:"flex flex-col w-full space-y-1",children:[(0,a.jsx)("label",{id:t,className:"text-slate-800 text-xl font-medium",htmlFor:t,children:t}),(0,a.jsx)("input",{id:t,type:l,value:o,required:!0,onChange:s,name:r,placeholder:e,className:"flex-1 rounded-md px-6 py-2 border",style:{borderColor:"#172B4D",color:"#172B4D"}})]})}},45330:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(45512);function s({isVisible:e,errorMessage:t,successMessage:r}){return e?(0,a.jsx)("div",{className:""!==t?"bg-red-300 px-12 py-6 text-center mb-10":"bg-green-300 px-12 py-6 text-center mb-10",children:""!==t?(0,a.jsx)("div",{className:"text-red-700 text-2xl font-medium",children:t}):(0,a.jsx)("div",{className:"text-green-700 text-2xl font-medium",children:r})}):(0,a.jsx)(a.Fragment,{})}},71718:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(45512);function s({title:e,onClick:t}){return(0,a.jsx)("button",{className:"rounded-lg px-40 py-4 text-white font-medium",style:{backgroundColor:"#172B4D"},onClick:e=>{},children:e})}},45029:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(45512);function s(){return(0,a.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,a.jsx)("div",{className:"container flex mx-auto h-6 w-6 items-center delay-1000 duration-1000 ease-in-out p-2 text-center justify-center animate-spin",style:{background:"#068FBB"}}),(0,a.jsx)("div",{className:"container flex mx-auto h-6 w-6 items-center delay-1000 duration-1000 ease-in-out p-2 text-center justify-center animate-spin",style:{background:"#103851"}}),(0,a.jsx)("div",{className:"container flex mx-auto h-6 w-6 items-center delay-1000 duration-1000 ease-in-out p-2 text-center justify-center animate-spin",style:{background:"#068FBB"}})]})}},89872:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(45512);function s({placeholder:e,label:t,name:r,onChange:s,type:l,lines:o=8,value:i}){return(0,a.jsxs)("div",{className:"flex flex-col w-full space-y-1",children:[(0,a.jsx)("label",{itemID:t,className:"text-slate-800 text-xl font-medium",htmlFor:t,children:t}),(0,a.jsx)("textarea",{itemID:t,value:i,required:!0,onChange:s,rows:o,name:r,placeholder:e,className:"flex-1 rounded-md px-6 py-2 border",style:{borderColor:"#172B4D",color:"#172B4D"}})]})}},46008:(e,t,r)=>{"use strict";r.d(t,{default:()=>y});var a=r(45512),s=r(93703),l=r(71718),o=r(89872),i=r(79848),n=r(17656),c=r(58009),d=r(45330),u=r(45029),x=r(64429),m=r(16499),p=r(45103);function h({getImageUrl:e}){let t=(0,c.useRef)(null),[r,s]=(0,c.useState)(""),[l,o]=(0,c.useState)(""),i=async t=>{let r=t.target;if(r.files&&r.files[0]){let t=r.files[0];try{let r=await (0,m.A)(t,{maxSizeMB:.1,maxWidthOrHeight:800,useWebWorker:!0}),a=new FileReader;a.onload=()=>{let e=a.result;s(e)},a.readAsDataURL(r);let l=await (0,x.V)(t.name,"users/",r);e(l),o(l)}catch(e){console.log(e.message)}}};return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("input",{ref:t,type:"file",accept:"image/*",readOnly:!0,className:"hidden",id:"input",onChange:i}),(0,a.jsx)("div",{className:"container my-4 rounded-md bg-slate-900 w-full h-2/3 border-2 items-center",onClick:()=>{t.current?.click()},children:""===r?(0,a.jsx)("div",{className:"p-40 w-full text-center",children:"Upload Article Image"}):(0,a.jsx)(p.default,{className:"rounded-md shadow-xl h-96 w-full border border-slate-700",src:r,width:400,height:200,alt:"article image"})})]})}function f({label:e,value:t,onChange:r,categories:s}){let l=s.map(e=>(0,a.jsx)("option",{children:e.title},e.categoryDocId));return(0,a.jsxs)("div",{className:"flex flex-col w-full space-y-1",children:[(0,a.jsx)("label",{itemID:e,className:"text-slate-800 text-xl font-medium",htmlFor:e,children:e}),(0,a.jsx)("select",{itemID:e,value:t,required:!0,onChange:r,className:"flex-1 rounded-md px-6 py-2 border",style:{borderColor:"#172B4D",color:"#172B4D"},children:l})]})}function g({onChange:e,tags:t}){let[r,s]=(0,c.useState)([]),l=t=>{let a=t.target.value;console.log(a),t.target.checked?s([...r,a]):s(r.filter(e=>e!=a)),e(r)},o=t.map(e=>(0,a.jsxs)("div",{className:"flex flex-row space-x-1 bg-slate-300 p-2 rounded-md justify-center items-center",children:[(0,a.jsx)("input",{id:e.title,type:"checkbox",value:e.title,onChange:l,placeholder:e.title,className:"flex-1 rounded-md px-2 py-3 border",style:{borderColor:"#172B4D",color:"#172B4D"}}),(0,a.jsx)("label",{id:e.title,className:"text-slate-800 font-light",htmlFor:e.title,children:e.title})]},e.title));return(0,a.jsxs)("div",{className:"flex flex-col w-full space-y-6 text-slate-800 text-xl font-medium",style:{color:"#172B4D"},children:["Choose Tags",(0,a.jsx)("div",{className:"flex flex-wrap gap-2 w-full space-x-0 mt-2",children:o})]})}function y({categories:e,tags:t}){let[r,x]=(0,c.useState)(!1),[m,p]=(0,c.useState)(""),[y,b]=(0,c.useState)(!1),v={title:"",content:"",timeToRead:"",tags:[],likes:[],category:"",createdAt:n.Dc.now(),coverImage:"",authorName:"",authorJobTitle:"",authorUid:"",authorImage:""},[j,w]=(0,c.useState)(v),N=async()=>{console.log(j),x(!0),""===j.category&&w({...j,category:e[0].title}),""===j.category&&w({...j,category:e[0].title});try{let e=localStorage.getItem("uid"),t=await (0,i.wz)(e??"");w({...j,authorName:t.fullName,authorJobTitle:t.jobTitle,authorImage:t.imageUrl,authorUid:e??""}),await (0,i.o6)(j),x(!1),b(!0)}catch(e){p(e.message),x(!1),x(!1)}};return(0,a.jsxs)("form",{className:"items-center flex flex-col gap-2 w-full justify-stretch",onSubmit:e=>{e.preventDefault(),N()},children:[(0,a.jsx)(s.A,{label:"Title",type:"text",value:j.title,placeholder:"Enter article title",onChange:e=>w({...j,title:e.target.value})}),(0,a.jsxs)("div",{className:"flex flex-row justify-between space-x-8 w-full",children:[(0,a.jsx)(f,{categories:e,label:"Choose Category",value:j.category,onChange:e=>w({...j,category:e.target.value})}),(0,a.jsx)(s.A,{label:"Time to read",type:"text",value:j.timeToRead,placeholder:"Enter time to read",onChange:e=>w({...j,timeToRead:e.target.value})})]}),(0,a.jsx)(g,{tags:t,onChange:e=>{w({...j,tags:e})}}),(0,a.jsx)(h,{getImageUrl:e=>{w({...j,coverImage:e})}}),(0,a.jsx)(o.A,{label:"Content",type:"text",lines:20,value:j.content,placeholder:"Enter article content",onChange:e=>w({...j,content:e.target.value})}),(0,a.jsx)("div",{className:"pt-5 pb-10",children:r?(0,a.jsx)(u.A,{}):(0,a.jsx)(l.A,{title:"Post"})}),(0,a.jsx)(d.A,{errorMessage:m,isVisible:y,successMessage:"The Article Has Been Posted Successfully"})]})}},79848:(e,t,r)=>{"use strict";r.d(t,{$P:()=>n,nu:()=>l,o6:()=>i,wz:()=>o});var a=r(17656),s=r(42307);let l=async(e,t)=>{(0,a.rJ)(s.db,"users/");let r=(0,a.H9)(s.db,"users",t);try{return await (0,a.BN)(r,{userUid:t,fullName:e.fullName,email:e.email,bio:e.bio,imageUrl:e.imageUrl,jobTitle:e.jobTitle})}catch(e){console.error(e)}},o=async e=>{let t=(0,a.rJ)(s.db,"users/");try{return(await (0,a.x7)((0,a.H9)(t,e))).data()}catch(e){console.error(e)}},i=async e=>{let t=(0,a.rJ)(s.db,"articles/");try{let r=await (0,a.gS)(t,{title:e.title,content:e.content,timeToRead:e.timeToRead,tags:e.tags,likes:[],category:e.category,coverImage:e.coverImage,createdAt:Date.now(),authorName:e.authorName,authorJobTitle:e.authorJobTitle,authorUid:e.authorUid});return await (0,a.mZ)((0,a.H9)(s.db,"articles",r.id),{articleDocId:r.id}),r}catch(e){console.error(e)}},n=async e=>{let t=(0,a.rJ)(s.db,"articles");try{return(await (0,a.GG)(t)).docs.filter(t=>t.data().title.toLowerCase().includes(e.toLowerCase()))}catch(e){console.error(e)}}},64429:(e,t,r)=>{"use strict";r.d(t,{V:()=>l});var a=r(42390),s=r(42307);let l=async(e,t,r)=>{let l="",o=(0,a.KR)(s.I,t+e);try{let e=await (0,a.D)(o,r);l=await (0,a.qk)(e.ref),console.log(l)}catch(e){console.error(e)}return console.log("storage"+l),l}},45041:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\bolg\\\\code_corner_blog\\\\app\\\\writearticle\\\\components\\\\WriteArticleForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\bolg\\code_corner_blog\\app\\writearticle\\components\\WriteArticleForm.tsx","default")},2150:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(62740),s=r(64398),l=r(42088),o=r(17704),i=r(45041);async function n(){let e=await (0,o.Q2)(),t=await (0,o.bW)();return(0,a.jsxs)("div",{className:"w-full flex flex-col justify-center items-start py-2 space-y-4 px-40",children:[(0,a.jsx)("h3",{className:"font-bold  text-4xl",style:{color:"#172B4D"},children:"Write Article"}),(0,a.jsx)(i.default,{tags:e,categories:t})]})}function c(){return(0,a.jsxs)("div",{className:"flex flex-col w-full items-center justify-items-center font-[family-name:var(--font-geist-sans)] justify-stretch ",children:[(0,a.jsx)(l.default,{}),(0,a.jsx)(n,{}),(0,a.jsx)(s.A,{})]})}},17704:(e,t,r)=>{"use strict";r.d(t,{rl:()=>p,GE:()=>c,Lp:()=>m,bW:()=>d,p7:()=>u,Q2:()=>x});var a=r(1982),s=r(2618),l=r(83601),o=r(53646);let i=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyC-zy784ZF0jr5dkaI7gKGjue7IQHUlAJg",authDomain:"stories-for-children-59124.firebaseapp.com",projectId:"stories-for-children-59124",storageBucket:"stories-for-children-59124.appspot.com",messagingSenderId:"150688496449",appId:"1:150688496449:web:ae8b0d422137a4923a3fc0",measurementId:"G-7221H6TZX9"}),n=(0,a.aU)(i);(0,l.xI)(i),(0,o.c7)(i);let c=async()=>{let e=(0,a.rJ)(n,"articles");try{return(await (0,a.GG)(e)).docs.map(e=>e.data())}catch(e){console.error(e)}},d=async()=>{let e=(0,a.rJ)(n,"categories");try{return(await (0,a.GG)(e)).docs.map(e=>e.data())}catch(e){console.error(e)}},u=async e=>{let t=(0,a.rJ)(n,"categories");try{return(await (0,a.x7)((0,a.H9)(t,e))).data()}catch(e){console.error(e)}},x=async()=>{let e=(0,a.rJ)(n,"tags");try{return(await (0,a.GG)(e)).docs.map(e=>e.data())}catch(e){console.error(e)}},m=async e=>{let t=(0,a.rJ)(n,"/articles"),r=(0,a.P)(t,(0,a._M)("category","==",e));try{return(await (0,a.GG)(r)).docs.map(e=>e.data())}catch(e){console.error(e)}},p=async e=>{let t=(0,a.rJ)(n,"/articles");try{return(await (0,a.x7)((0,a.H9)(t,e))).data()}catch(e){console.error(e)}}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,949,825,500,925,121],()=>r(78597));module.exports=a})();